import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m,R as b}from"./index.ai7qpRr1.js";import{y as n}from"./_astro-entry_react-toastify.Dcv7JA9i.js";const f={},{NODE_ENV:j}=f,x=`${j==="production"?"https://api.frostbreak.org":"http://localhost:3000"}/contact/send`,E=()=>{const[s,i]=m.useState({name:"",email:"",subject:"",message:""}),[t,c]=m.useState(!1),[d,h]=m.useState(!1),u=b.useRef(null),r=l=>{const{name:a,value:o}=l.target;i(g=>({...g,[a]:o})),h(u?.current?.checkValidity()||!1)},p=async l=>{l.preventDefault(),c(!0);try{const a=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await a.text();a.ok?(n.success(o||"Message sent successfully!"),i({name:"",email:"",subject:"",message:""})):n.error(o||"Failed to send message. Please check your input.")}catch(a){console.error("Error sending message:",a),a instanceof Error?n.error(`An error occurred: ${a.message}. Please try again later.`):n.error("An unknown error occurred. Please try again later.")}finally{c(!1)}};return e.jsxs("form",{className:"form contact",onSubmit:p,ref:u,children:[e.jsx("label",{htmlFor:"name",children:"Name:"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:r,autoComplete:"name",placeholder:"Your Name",disabled:t}),e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:r,autoComplete:"email",placeholder:"you@example.com",required:!0,disabled:t}),e.jsx("label",{htmlFor:"subject",children:"Subject:"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:r,autoComplete:"on",placeholder:"Subject of your message",required:!0,disabled:t}),e.jsx("label",{htmlFor:"message",children:"Message:"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:r,rows:4,minLength:10,maxLength:2e3,placeholder:"Your message here...",required:!0,disabled:t}),e.jsx("button",{type:"submit",className:"button primary submit",disabled:t||!d,children:t?"Sending...":"Send Message"})]})};export{E as default};
